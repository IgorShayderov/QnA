$('.question-errors').html('<%= render 'shared/errors', resource: @question %>');

<% if !@question.errors.present? %>
  questionTitle = document.querySelector('.question-title');
  questionBody = document.querySelector('.question-body');

  questionTitle.innerHTML = '<%= @question.title %>';
  questionBody.innerHTML = '<%= @question.body %>';

  editQuestionLink = document.querySelector('.edit-question-link');
  editQuestionForm = document.querySelector('.edit-question-form');

  editQuestionLink.classList.remove('hidden');
  editQuestionForm.classList.add('hidden');

  <% if @question.files.attached? %>
    $attachFileForm = $('#question_files');
    $attachFileForm.replaceWith($attachFileForm.val('').clone(true));

    filesBlock = document.querySelector('.question-files');
    $(filesBlock).html('');

    <% @question.files.each do |file| %>
      singleFileBlock = document.createElement('p');
      singleFileBlock.classList.add('question-file');
      $(singleFileBlock).html('<%= link_to file.filename.to_s, url_for(file) %>');

      filesBlock.appendChild(singleFileBlock);
    <% end %>
  <% end %>
<% end %>
