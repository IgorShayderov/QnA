$('.question-errors').html('<%= render 'shared/errors', resource: @question %>');

<% if !@question.errors.present? %>
  questionTitle = document.querySelector('.question-title');
  questionBody = document.querySelector('.question-body');

  questionTitle.innerHTML = '<%= @question.title %>';
  questionBody.innerHTML = '<%= @question.body %>';

  editQuestionLink = document.querySelector('.edit-question-link');
  editQuestionForm = document.querySelector('.edit-question-form');

  editQuestionLink.classList.remove('hidden');
  editQuestionForm.classList.add('hidden');

  $fileBlock = $('#question_files');
  $fileBlock.replaceWith($fileBlock.val('').clone(true));

  <% if @question.files.attached? %>
    filesBlock = document.querySelector('.question-files');
    $(filesBlock).html('');

    <% @question.files.each do |file| %>
      fileBlock = document.createElement('p');
      fileBlock.classList.add('question-file');
      $(fileBlock).html('<%= link_to file.filename.to_s, url_for(file) %>');

      filesBlock.appendChild(fileBlock);
    <% end %>
  <% end %>
<% end %>
